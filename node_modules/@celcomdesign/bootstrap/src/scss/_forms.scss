// Textual form controls

// Simple forms
.form-control {
  &.form-simple {
    padding: .5rem 0 $input-padding-x;
    font-weight: $font-weight-bold;
    color: $gray-800;
    border: 0;
    border-bottom: $input-border-width solid $input-border-color;

    @include border-radius(0, 0);

    @include form-control-focus($ignore-warning: true);

    &::placeholder {
      font-weight: $input-font-weight;
      color: $gray-400;
    }
  }
}

// stylelint-disable selector-no-qualifying-type
select.form-control:not([multiple]) {
  // Form select - browser dependent
  scrollbar-color: $gray-200 transparent;

  &::-webkit-scrollbar {
    width: .625rem;
  }
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  &::-webkit-scrollbar-thumb {
    background: $gray-200;
    border-radius: .3125rem;
  }
  &::-webkit-scrollbar-thumb:hover {
    background: $gray-500;
  }

  &.form-simple {
    background: $custom-select-bg escape-svg($custom-select-indicator) right 0 center / $custom-select-bg-size no-repeat;
    appearance: none;

    option {
      font-weight: $font-weight-bold;
      color: $gray-800;
    }

    &:invalid {
      font-weight: $input-font-weight;
      color: $gray-400;
    }

    &:disabled,
    [disabled] {
      font-weight: $input-font-weight;
      color: $gray-200;
    }
  }
}

// Form groups
.form-group {
  &:not(.row) {
    position: relative;

    // stylelint-disable declaration-colon-space-after
    .form-divider {
      position:absolute;
      top: 0;
      right: 60px;
      height: 100%;
      border-left: $custom-select-border-width solid $custom-select-border-color;
    }

    // .input-group {
    //   > .form-control,
    //   > .form-control-plaintext,
    //   > .custom-select {
    //     padding: 1.3125rem .75rem;
    //   }
    // }

    .input-group-prepend,
    .input-group-append {
      .input-group-text {
        padding-right: 1.3125rem;
        padding-left: 1.3125rem;
      }
    }


    .input-group > .form-control,
    .input-group > .form-control-plaintext,
    .input-group > .no-divider,
    .form-control,
    .custom-select {
      padding: 1.875rem $input-padding-x .75rem;

      &:focus {
        ~ .form-divider {
          border-left: $custom-select-border-width solid $custom-select-focus-border-color;
        }
      }
    }

    select.form-control:not([multiple]),
    .custom-select:not([multiple]) {
      padding: 1.875rem 3.75rem .75rem $input-padding-x;
      background: $custom-select-bg escape-svg($custom-select-indicator) right 1.25rem center / $custom-select-bg-size no-repeat;
      appearance: none;
    }

    input ~ label,
    textarea ~ label,
    select ~ label {
      position: absolute;
      left: add($input-padding-x, 1px);
      pointer-events: none;
      transition: .15s;
    }

    select ~ label,
    .custom-select:not([multiple]):not(:invalid) ~ label {
      top: add(.5rem, 1px);
      font-size: $input-font-size * .75;
    }

    input ~ label,
    .custom-select:not([multiple]) ~ label {
      top: add(1.3125rem, 1px);
      font-size: $input-font-size;
    }

    textarea:empty ~ label {
      top: add(.5rem, 1px);
      font-size: $input-font-size;
    }

    input:required:valid ~ label,
    input:not([type="file"]):focus ~ label,
    input:optional:not(:placeholder-shown):not(:focus) ~ label,
    textarea:required:valid ~ label,
    textarea:focus ~ label,
    textarea:optional:not(:placeholder-shown):not(:focus) ~ label,
    .custom-select:not([multiple]):focus ~ label {
      top: add(.5rem, 1px);
      font-size: $input-font-size * .75;
    }

    input:required:disabled:not(:placeholder-shown) ~ label,
    input:required:invalid:not(:placeholder-shown) ~ label {
      top: add(.5rem, 1px);
      font-size: $input-font-size * .75;
    }

    .custom-file {
      height: 3.9375rem;

      input:optional:not(:placeholder-shown):not(:focus) ~ label {
        top: 0;
        right: 0;
        left: 0;
        padding: 1.3125rem .5rem;
        font-size: $font-size-base;

        &::after {
          height: auto;
          padding: 1.3125rem;
        }
      }

      input:optional:not(:placeholder-shown):focus ~ label {
        top: 0;
        left: 0;
        padding: 1.3125rem .5rem;

        &::after {
          height: auto;
          padding: 1.3125rem;
        }
      }
    }
  }

  .input-group {
    > .custom-file {
      &:first-child .custom-file-label {
        @include border-left-radius($input-border-radius);
        @include border-right-radius(0);
      }

      &:only-child .custom-file-label {
        @include border-left-radius($input-border-radius);
        @include border-right-radius($input-border-radius);
      }
    }
  }
}

// Checkboxes and radios
.form-check-input {
  width: $form-check-input-size;
  height: $form-check-input-size;
}
